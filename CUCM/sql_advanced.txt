select numplan.dnorpattern as pattern, routepartition.name as partition, callforwarddynamic.cfadestination as destination, callingsearchspace.name as css from numplan inner join routepartition on numplan.fkroutepartition=routepartition.pkid inner join callforwarddynamic on numplan.pkid=callforwarddynamic.fknumplan left join callingsearchspace on callforwarddynamic.fkcallingsearchspace_cfa=callingsearchspace.pkid where numplan.dnorpattern="PATTERN_HERE" and routepartition.name="PARTITION_HERE"
update callforwarddynamic set cfadestination="DESTINATION_HERE", fkcallingsearchspace_cfa=(select pkid from callingsearchspace where name="CSS_HERE") where fknumplan in (select pkid from numplan where dnorpattern="PATTERN_HERE" and fkroutepartition in (select pkid from routepartition where name="PARTITION_HERE"))